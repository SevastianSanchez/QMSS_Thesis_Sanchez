---
title: "panel_data_stats"
output: html_document
---

```{r}
# set working directory 
setwd("~/Documents/GitHub/QMSS_Thesis_Sanchez")

# Load all packages from the packages.R file
source("packages.R")

# Load the panel data script
source("Comp2_panel_wrangling.R")
```

# 1. 

## 1.1 Frequency Table of Country Regime Change Status 
```{r}
# Table of regime change status for each country
country_list <- panel_data %>%
  select(country_code, country_name, year, 
         regch_event, autocratized, democratized, stable, 
         has_aut_ep, aut_ep, 
         has_dem_ep, dem_ep, 
         has_neither) %>%
  #distinct() %>%
  arrange(country_code)

# View the country list
print(country_list)

# Frequency table of regime change stats 
country_freq <- country_list %>%
  summarise(
    autocratized_count = sum(autocratized, na.rm = TRUE),
    democratized_count = sum(democratized, na.rm = TRUE),
    stable_count = sum(stable, na.rm = TRUE),
    has_aut_ep_count = sum(has_aut_ep, na.rm = TRUE),
    has_dem_ep_count = sum(has_dem_ep, na.rm = TRUE),
    has_neither_count = sum(has_neither, na.rm = TRUE), 
    total_countries = n()
  ) %>%
  pivot_longer(everything(), names_to = "category", values_to = "count")

# View the frequency table
print(country_freq)
```


